<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Haller.js : İsimlere bi haller oluyor..." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>

    <title>Haller.js</title>
  </head>

<script>

/*
*
* Haller.js v1.0
* sercaneraslan.com
*
*/

$(function() {
  
    function Haller(isim, hal){
        this.isim                = isim.charAt(0).toUpperCase() + isim.slice(1);
        this.hal                 = hal;
        this.sesliHarfler        = ["a", "ı", "o", "u", "e", "i", "ö", "ü"];
        this.sertUnsuzler        = ["f", "s", "t", "k", "ç", "ş", "h", "p"];
        this.sapkaliHarfIsimleri = ["Alp", "Şevval", "Kemal", "Bilal", "Nihal", "Hilal", "Meral", "Resul", "Celal", "Cemal"];
        this.harf                = this.sesliHarfler.indexOf(this.isim.substr(this.isim.length-1,1));
        this.harf2               = this.sesliHarfler.indexOf(this.isim.substr(this.isim.length-2,1));
        this.harf3               = this.sesliHarfler.indexOf(this.isim.substr(this.isim.length-3,1));
        this.sonuSertUnsuz       = this.sertUnsuzler.indexOf(this.isim.substr(this.isim.length-1,1));
        this.sapkaliIsimler      = this.sapkaliHarfIsimleri.indexOf(this.isim);
        this.ekinSonHarfi;
        this.ekler;
        this.ek;
    }

    Haller.prototype = {
        eklereKararVer: function(){
            if(this.hal == "e"){
              this.ekler = ["ya", "ye", "a", "e"];
            }
            else if(this.hal == "de"){
              this.ekler = ["da", "de", "da", "de"];
            }
            else if(this.hal == "den"){
              this.ekler = ["dan", "den", "dan", "den"];
            }
            else if(this.hal == "i"){
              this.ekler = ["yı", "yu", "yi", "yü", "ı", "u", "i", "ü"];
            }
            else if(this.hal == "iyelik"){
              this.ekler = ["nın", "nun", "nin", "nün", "ın", "un", "in", "ün"];
            }
            return this.ekler;
        },
        ekiOlustur: function(a,b,c,d,e,f){
            if(this.hal == "i" || this.hal == "iyelik"){
                if(this.harf == 0 || this.harf == 1){
                    this.ek = this.ekler[a];
                }
                else if(this.harf == 2 || this.harf == 3){
                    this.ek = this.ekler[b];
                }
                else if(this.harf == 4 || this.harf == 5){
                    this.ek = this.ekler[c];
                }
                else if(this.harf == 6 || this.harf == 7){
                    this.ek = this.ekler[d];
                }
            }else{
                (this.harf <= 3) ? this.ek = this.ekler[e] : this.ek = this.ekler[f];
            }
            return this.ek;
        },
        ekeKararVer : function(){
            this.ekiOlustur(0,1,2,3,0,1);

            if(this.harf == -1){
                (this.harf2 == -1) ? this.harf = this.harf3 : this.harf = this.harf2;
                this.ekiOlustur(4,5,6,7,2,3);
            }
            return this.ek;
        },
        sapkaliHarfVarMi: function(){
            if(this.sapkaliIsimler !== -1){
                (this.hal == "i" || this.hal == "iyelik") ? this.ek = this.ekler[6] : this.ek = this.ekler[3];
            }
            return this.ek;
        },
        sonuSertUnsuzMu: function(){
            if(this.sonuSertUnsuz !== -1){
                if(this.hal == "de" || this.hal == "den"){
                    ekinSonHarfi = this.ek.slice(1, 3);
                    this.ek = "t" + ekinSonHarfi;
                }
            }
            return this.ek;
        },
        calistir: function(){
            this.eklereKararVer();
            this.ekeKararVer();
            this.sapkaliHarfVarMi();
            this.sonuSertUnsuzMu();
            return this.isim + "'" + this.ek;
        }
    }

    $("#gonder").click(function(){
        var isim = $("#isim").val(),
            hal = $("#hal").val(),
            ekler = ["e", "i", "de", "den", "iyelik"],
            eklerDogruMu = ekler.indexOf(isim);
console.log(eklerDogruMu);
        if(isim !== '' && hal !== ''){
            
            if(eklerDogruMu !== -1){
                var haller = new Haller(isim, hal),
                    sonuc = haller.calistir();
                $("#sonuc").text(sonuc);
            }else {
                $("#sonuc").text("Lütfen doğru bilgileri giriniz!");
            }
        }else {
            $("#sonuc").text("Lütfen eksik bilgileri giriniz!");
        }
    });

});
  
</script>

<style type="text/css">
#sonucDiv {
    height: 40px;
    width: 355px;
    padding: 10px;
    border: 1px solid #DBDBDB;
    font-size: 18px;
    background: #FFF;
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
}
input {
    color: #999999;
    background-color: #FFFFFF;
    border: 1px solid #CCCCCC;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    font-size: 14px;
    height: 20px;
    line-height: 20px;
    margin-bottom: 10px;
    padding: 4px 6px;
    vertical-align: middle;
    width: 130px;
    -moz-transition: border 0.2s linear 0s, box-shadow 0.2s linear 0s;
}
#gonder {
    border-color: rgba(0, 0, 0, 0.15) rgba(0, 0, 0, 0.15) rgba(0, 0, 0, 0.25);
   -moz-border-bottom-colors: none;
    -moz-border-image: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #F5F5F5;
    background-image: -moz-linear-gradient(center top , #FFFFFF, #E6E6E6);
    background-repeat: repeat-x;
    border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) #A2A2A2;
    border-radius: 4px 4px 4px 4px;
    border-style: solid;
    border-width: 1px;
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2) inset, 0 1px 2px rgba(0, 0, 0, 0.05);
    color: #333333;
    cursor: pointer;
    display: inline-block;
    font-size: 14px;
    line-height: 20px;
    margin-bottom: 0;
    padding: 3px 12px;
    text-align: center;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);
    vertical-align: top;
}
</style>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/skatersercan/Haller.js">View on GitHub</a>

          <h1 id="project_title">Haller.js</h1>
          <h2 id="project_tagline">İsimlere bi haller oluyor...</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/skatersercan/Haller.js/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/skatersercan/Haller.js/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>Haller.js Nedir?</h3>

<p>İsimlerin hal eklerini ve iyelik ekini tahmin eden bir JavaScript kütüphanesidir.</p>

<p>İsimlerin:</p>

<ul>
    <li>-e halini</li>
    <li>-i halini</li>
    <li>-de halini</li>
    <li>-den halini</li>
    <li>iyelik ekini</li>
</ul>

<p>tahmin eder.</p>

<h3>Haller.js Nasıl Çalışır</h3>

<p>Herhangi bir isim ve isim hali giriniz ve sonra "Oluştur" butonuna tıklayınız.</p>

<p>
  <input type="text" id="isim" placeholder="İsmi giriniz..."/>
  <input type="text" id="hal" placeholder="Hali giriniz..."/>
  <button id="gonder" type="submit">Oluştur</button>
  <div id="sonucDiv">
    <p id="sonuc"></p>
  </div>
</p>

<h3>Haller.js Kullanımı</h3>

<p>Fonksiyona verilen ilk paramatre "isim" ikinci parametre ise "ismin hali ya da iyelik eki" 'dir.</p>

<p>Örneğin:</p>

<pre><code>haller("sercan","e");
haller("sercan","i");
haller("sercan","de");
haller("sercan","den");
haller("sercan","iyelik");
</code></pre>

<p>Not: Şapkalı harflerde artık şapka kullanılmadığı için şapkalı harf içeren isimlerin sonu tahmin edilemiyor. Çözüm olarak şapkalı harf içeren isimler bir diziye eklendi. Eğer eksik olanları bulursanız repoya düzeltme gönderebilirsiniz.</p>
      </section>
    </div>

    <!-- FOOTER -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Haller.js maintained by <a href="https://github.com/skatersercan">skatersercan</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
